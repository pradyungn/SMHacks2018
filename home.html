<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FoodSaver - main menu</title>
    <link rel="icon"
          type="image/png"
          href="https://image.ibb.co/gGLeUf/favicon.png">
    <style>
        body{
        background-color: #41647d;
        font-family: "Century Gothic", sans-serif;
        color: white;
        }
        h1 {
            font-family: Futura, sans-serif;
            background-color: #41647d;
            color: white;
            text-align: center;
            padding: 20px 0px 20px 0px;
            margin: 0px;
            font-size: 50px;
        }
        #image{
            width: 1450px;
            position: absolute;
            top: 115px;
            left: 0px;
            z-index: -5;
        }
        #login{
            background-color: #41647d;
            color: white;
            padding: 10px ;
            border: 0px;
            position: absolute;
            top: 40px;
            right: 10px;
            font-size: 20px;
            text-decoration: none;
            font-family: "Century Gothic", sans-serif;
        }
        h2{
            font-family: Futura, sans-serif;
            padding: 10px 30px 10px 30px;
        }
        .closeButton{
            padding: 5px;
            font-size: 15px;
            height: 30px;
            border: 0;
            background-color: lightseagreen;
        }
        .food{
            background-color: white;
            font-size: 15px;
            color: black;
            width: 500px;
            height: 30px;
        }
        #plus{
            width: 50px;
            height: 50px;
            padding-left: 275px;
            font-size: 30px;
            cursor: pointer;
        }
        #addNew{
            display: none;
            padding-left: 100px;
        }
        #submit{
            background-color:#5a7d96;
            border: 0;
            border-radius: 0;
            -webkit-appearance: none;
            -webkit-border-radius: 0px;
            cursor: pointer;
            padding: 5px;
            font-size: 20px;
            font-family: "Century Gothic", sans-serif;
        }
        #logo{
            position: absolute;
            left: 10px;
            top: 10px;
            height: 90px;
            width: 90px;
        }
        select{
            background-color:#5a7d96;
            border: 0;
            border-radius: 0;
            -webkit-appearance: none;
            -webkit-border-radius: 0px;
            cursor: pointer;
            padding: 5px;
            font-size: 20px;
            font-family: "Century Gothic", sans-serif;
        }
        li{
            margin: 10px;
        }
        button:hover{
            background-color: #ff4a63;
        }
        #Recipes{
            width: 400px;
            position: fixed;
            top: 200px;
            right: 50px;
        }
        .recipe{
            position:absolute;
            width: 400px;
        }
        #Recipe-img{
            position: absolute;
            height: 100px;
            width:90px;
        }
        #Recipe-a{
            position: absolute;
            color: white;
            text-decoration: none;
            font-size: 20px;
            left: 100px;
        }
        #Recipe-p{
            position:absolute;
            left: 100px;
            top: 20px;
            color: #A0DAFC
        }

    </style>
</head>
<body>

<h1>FoodSaver</h1>
<img id = "logo" src = "https://image.ibb.co/coZbs0/logo.png">
<img id="image" src="https://image.ibb.co/iOWxzf/bell-pepper-carrot-carrots-952356-3.jpg">
<a href="login.html" id="login">Go to Login</a>
<br>
<br>
<br>
<div id="Your Food">
    <h2>Your Food</h2>
    <div id="plus" onclick="addNew()">âŠ•</div>
    <div id="addNew" >
        <select id="foodGroup" onchange="updateSpecificFoods()">
            <option>Dairy</option>
            <option>Proteins</option>
            <option>Vegetables</option>
            <option>Fruit</option>
            <option>Carbs</option>
        </select>

        <select id="specificFoods" >

        </select>

        <button id = "submit" onclick="addToList(document.getElementById('specificFoods').value)">Submit</button>
    </div>
    <ul id = "yourFoods">
    </ul>
</div>

<div id="Recipes">
    <h2>Suggested Recipe</h2>
    <h3>Based on your Carbs</h3>
    <div class="recipe">
        <img src="https://images.media-allrecipes.com/userphotos/720x405/2229716.jpg" id="Recipe-img">
        <a href="https://www.allrecipes.com/recipe/6887/croutons/" id="Recipe-a">Easy Croutons</a>
        <p id="Recipe-p">Butter'em, Cutt'em, Season'em, and pop'em in the oven</p>
    </div>
</div>

<script>
    function addNew(){
        var x = document.getElementById("addNew");
        if(x.style.display==="none"){
            x.style.display = "block";
        }else{
            x.style.display = "none";
        }
    }
    var dairy = ["Almond Milk", "Butter", "Buttermilk", "Coconut milk", "Cottage Cheese", "Cream", "Cream cheese", "Eggs", "Hard Cheese", "Ice Cream", "Margarine", "Milk", "Rice milk", "Soft Cheese", "Sour Cream", "Soy milk", "Whipped Cream", "Yogurt"];
    var proteins = ["Bacon", "Beans", "Beef", "Chia", "Chicken", "Eggs", "Fish", "Flax", "Ham", "Hot Dogs", "Nuts", "Pork", "Salmon", "Tofu", "Turkey"];
    var vegetables = ["Aspargus", "Broccoli", "Brussel Sprout", "Cabbage", "Carrots", "Cauliflower", "Celery", "Corn", "Cucumbers", "Eggplant", "Garlic", "Green Beans", "Kale", "Lettuce", "Mushrooms", "Onions", "Parsnips", "Potatoes", "PUmpkin", "Salad", "Squash", "Tomatoes", "Zucchini"];
    var fruit = ["Apple", "Apricot", "Avocado", "BANANA", "Blueberries", "Cherries", "Coconut", "Grapes", "Lemons", "Mangoes", "Oranges", "Peaches", "pears", "Strawberries", "Tomato", "Watermelon"];
    var carbs = ["Bread", "Cereal", "Oatmeal", "Pasta", "Quinoa", "Rice", "Tortillas"];
    var foodGroups = [dairy, proteins, vegetables, fruit, carbs];

    var carbRecipes = {"Bread":["Easy Croutons", "https://images.media-allrecipes.com/userphotos/720x405/2229716.jpg", "https://www.allrecipes.com/recipe/6887/croutons/", "Butter'em, Cutt'em, Season'em, and pop'em in the oven"], "Cereal":["Cereal Snack Bites", "https://images-gmi-pmc.edge-generalmills.com/74c4f45a-b883-419f-afad-e09dc3d6426f.jpg", "https://www.pillsbury.com/recipes/easy-cereal-snack-bites/11afd0bc-8140-4421-8360-465b99a482e5", "Mixed with peanut butter and covered in chocolate, this recipe works with any type of cereal"], "Oatmeal":["Oatmeal breakfast bars", "https://images.media-allrecipes.com/userphotos/560x315/3290983.jpg", "https://www.allrecipes.com/recipe/245914/baked-oatmeal-breakfast-bars/?internalSource=streams&referringId=1315&referringContentType=Recipe%20Hub&clickId=st_trending_s", "Mixed with anything that you want, these bars are perfect for any time"], "Pasta":["Easy pasta recipe", "https://images.media-allrecipes.com/userphotos/560x315/222197.jpg", "https://www.allrecipes.com/recipe/54807/awesome-easy-pasta/", "An easy pasta recipe that just takes 10 min to prepare"], "Quinoa":["Savory Quinoa", "https://images.media-allrecipes.com/userphotos/250x250/955196.jpg", "https://www.allrecipes.com/recipe/216999/simple-savory-quinoa/", "A savory side dish, tasty yet simple, with carrots, celery, onions and quinoa"], rice:["Parmesan Rice", "https://spicysouthernkitchen.com/wp-content/uploads/parmesan-rice-7-lighter.jpg", "https://spicysouthernkitchen.com/parmesan-rice/", "Creamy Parmesan Rice has so much flavor from garlic and freshly grated Parmesan cheese plus a touch of lemon juice."], tortillas:["Pizzadillas", "https://www.jocooks.com/wp-content/uploads/2016/02/pizzadillas-1-5.jpg", "https://www.jocooks.com/recipes/pizzadillas/", "Never choose between pizzas and quesadillas! A fun snack for everyone"]};

    var carbsInFridge = [];

    var sampleFridge = ["Bread", "Cereal", "Oatmeal", "Pasta"];

    for(var i = 0; i <dairy.length; i++){
        var newOption = document.createElement("option");
        newOption.text = dairy[i];
        document.getElementById("specificFoods").add(newOption);
    }

    function updateSpecificFoods(){
        var selector = document.getElementById('specificFoods');
        for (i = selector.length - 1; i >= 0; i--) {
            selector.remove(i);
        }
        var j;
        switch(document.getElementById("foodGroup").value){
            case "Dairy":
                j = 0;
                break;
            case "Proteins":
                j = 1;
                break;
            case "Vegetables":
                j = 2;
                break;
            case "Fruit":
                j = 3;
                break;
            case "Carbs":
                j = 4;
                break;
            default:
                j = 0;
                break;
        }
        for(var i = 0; i <foodGroups[j].length; i++){
            var newOption = document.createElement("option");
            newOption.text = foodGroups[j][i];
            document.getElementById("specificFoods").add(newOption);
        }
    }

    function addToList(Food){
        sampleFridge.push(Food);
        var ul = document.getElementById("yourFoods");
        var li = document.createElement("li");
        var button = document.createElement("button");
        button.innerHTML = "X";
        button.setAttribute("class", "closeButton");
        button.setAttribute("id", sampleFridge.indexOf(Food, -1));
        button.setAttribute("onclick", "deleteFood(this.id)");
        li.appendChild(button);
        li.appendChild(document.createTextNode(" " + Food));
        li.setAttribute("class", "food");
        if(Food in carbs){
            carbsInFridge.append(Food)
        }
        ul.appendChild(li);
    }

    for(var i = 0; i<sampleFridge.length; i++) {

        var ul = document.getElementById("yourFoods");
        var li = document.createElement("li");
        var button = document.createElement("button");
        button.innerHTML = "X";
        button.setAttribute("class", "closeButton");
        button.setAttribute("id", i);
        button.setAttribute("onclick", "deleteFood(this.id)");
        li.appendChild(button);
        li.appendChild(document.createTextNode(" " + sampleFridge[i]));
        li.setAttribute("class", "food");
        if(carbs.includes(sampleFridge[i])){
            carbsInFridge.push(sampleFridge[i])
        }
        ul.appendChild(li);
    }

    if(carbsInFridge.length != 0){
        var recipeCarb = Math.round(Math.random()*carbsInFridge.length-1);
        document.getElementById("Recipe-img").src = carbRecipes[carbs[recipeCarb]][1];
        document.getElementById("Recipe-a").href = carbRecipes[carbs[recipeCarb]][2];
        document.getElementById("Recipe-a").innerHTML = carbRecipes[carbs[recipeCarb]][0];
        document.getElementById("Recipe-p").innerHTML = carbRecipes[carbs[recipeCarb]][3];
    }



    function deleteFood(id){
        sampleFridge.pop(id);
        if(sampleFridge[id] in carbs){
            carbsInFridge.pop(sampleFridge[id]);
        }
        document.getElementById(id).parentNode.parentNode.removeChild(document.getElementById(id).parentNode);
    }

</script>
</body>
</html>
